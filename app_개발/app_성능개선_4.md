# 📅 Ellie 캘린더 성능 개선 작업 요약

## ✅ 문제 인식
- Ellie는 할 일 목록 중심 앱이지만, 캘린더 기능이 느림.
- Apple Calendar, Notion Calendar 등과 달리 이벤트 로딩에 5~10초 소요됨.
- 캘린더 페이지 이동, 다른 캘린더 선택 시마다 반복 로딩 → UX 저하.

---

## 🧪 연구 및 벤치마킹
- 벤치마킹 대상: **Notion Calendar** (구 KRON, 빠른 성능으로 유명)
- 기술 분석 결과: **IndexDB**를 활용한 로컬 캐싱 사용

---

## 🛠️ 기술적 해결: IndexDB 캐싱 도입
- Ellie 기술 스택: React + Redux + Electron
- 데이터 처리 구조 개선:
  1. **IndexDB에서 기존 데이터 우선 로드**
  2. **서버로부터 최신 데이터 수신 → IndexDB 갱신**
- 필터 기반 동기화 처리로 중복 데이터 삭제 및 최신화

---

## ⚙️ 데이터 동기화 처리 방식
- 서버 응답은 시간 범위 & 캘린더별 필터 적용됨
- 동일 필터 조건으로 IndexDB → 서버 데이터 비교:
  - IndexDB에만 존재 → 삭제
  - 양쪽 존재 → 업데이트
  - 새로 들어온 데이터 → 추가

---

## 🧪 성능 결과
- 이전에 로드했던 데이터는 **즉시 표시**
- 새로 이동한 주도 빠른 반응
- 기타 영역도 IndexDB 적용 예정:
  - 캘린더 리스트
  - 사이드바 목록
  - 사용자 설정
  - Ellie Tasks

---

## 🧩 도전 과제 & 개선
- **IndexDB 스키마 버전 관리** 필요 → 마이그레이션 로직 도입
- **에러 발생 시 데이터 손상 가능성** → 초기화 버튼 추가
- **에러 핸들링** 개선 (문제 발생 시 상세 메시지 표시)
- **레이스 컨디션 버그 수정** → 안정성 향상

---

## 📱 iOS 적용 계획
- iOS 앱에는 **CoreData** 등을 활용해 동일한 캐싱 전략 적용 예정

---

## 🔚 결론
- IndexDB 도입으로 캘린더 UX 및 성능 크게 향상
- 동일 기술을 다른 기능으로 확장 예정